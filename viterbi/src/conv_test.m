x = [1 0 1 1];
g = [1 1; 1 0];
y = conv_encode(x, g);
x_hat = conv_decode(y, g);


%% Shapes
assert(isequal( ...
    size(y), ...
    [1 length(x) * size(g, 1)] ...
));
assert(isequal( ...
    size(x_hat), ...
    size(x) ...
));


%% Encode example
assert(isequal( ...
    y, ...
    [1 1 1 0 1 1 0 1] ...
));


%% Decode example
assert(isequal( ...
    x, ...
    x_hat ...
));
